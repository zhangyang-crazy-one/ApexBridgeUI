<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VCPChat UI Test</title>
  <link rel="stylesheet" href="/src/styles/main.css">
  <link rel="stylesheet" href="/src/styles/chat.css">
</head>
<body>
  <!-- Title Bar -->
  <div class="titlebar" data-tauri-drag-region>
    <div class="titlebar-left">
      <div class="titlebar-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 547 470.5">
          <path class="logo-light" d="M122.8 20.7L0 234l120.9 210.2 45.5-78.1-75.3-132.4 76.5-132.9-44.8-80.1z"/>
          <path class="logo-dark" d="M146.8 0L281 235.3 143.7 470.5l268-.3L547 234.4 411.2.9 146.8 0zM365 77.9l92.3 156.7L365.7 392l-84.3-.3L371.3 235 281.9 78.6l83.1-.7z"/>
        </svg>
      </div>
      <span class="titlebar-title">VCPChat UI Test</span>
    </div>
    <div class="titlebar-center"></div>
    <div class="titlebar-right">
      <button class="theme-toggle-btn" onclick="toggleTheme()">ğŸŒ“ Theme</button>
    </div>
  </div>

  <!-- Main App Container -->
  <div class="app-container">
    <!-- Left Sidebar -->
    <aside id="sidebar-left" class="sidebar sidebar-left">
      <!-- Sidebar Tabs -->
      <div class="sidebar-tabs">
        <button class="sidebar-tab-button active" data-tab="agents">åŠ©æ‰‹</button>
        <button class="sidebar-tab-button" data-tab="topics">è¯é¢˜</button>
        <button class="sidebar-tab-button" data-tab="settings">è®¾ç½®</button>
      </div>

      <!-- Agents Tab -->
      <div id="tab-content-agents" class="sidebar-tab-content active">
        <div style="padding: 16px;">
          <h3 style="margin-bottom: 12px;">AI Agents</h3>

          <!-- Agent 1: Nova -->
          <div class="agent-item" style="display: flex; align-items: center; padding: 12px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 8px; cursor: pointer;">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSIzMCIgZmlsbD0iIzZCNjZEQSIvPjx0ZXh0IHg9IjMyIiB5PSI0MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjI0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+TjwvdGV4dD48L3N2Zz4="
                 alt="Nova"
                 style="width: 40px; height: 40px; border-radius: 50%; margin-right: 12px;">
            <div>
              <div style="font-weight: 500;">Nova</div>
              <div style="font-size: 13px; color: var(--text-secondary);">glm-4.6</div>
            </div>
          </div>

          <!-- Agent 2: Coco -->
          <div class="agent-item" style="display: flex; align-items: center; padding: 12px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 8px; cursor: pointer;">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSIzMCIgZmlsbD0iI0ZGQTVDRSIvPjx0ZXh0IHg9IjMyIiB5PSI0MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjI0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+QzwvdGV4dD48L3N2Zz4="
                 alt="Coco"
                 style="width: 40px; height: 40px; border-radius: 50%; margin-right: 12px;">
            <div>
              <div style="font-weight: 500;">Coco</div>
              <div style="font-size: 13px; color: var(--text-secondary);">glm-4.6</div>
            </div>
          </div>

          <!-- Agent 3: Sage -->
          <div class="agent-item" style="display: flex; align-items: center; padding: 12px; margin-bottom: 8px; background: var(--bg-secondary); border-radius: 8px; cursor: pointer;">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSIzMCIgZmlsbD0iIzQyQTU5MiIvPjx0ZXh0IHg9IjMyIiB5PSI0MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjI0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+UzwvdGV4dD48L3N2Zz4="
                 alt="Sage"
                 style="width: 40px; height: 40px; border-radius: 50%; margin-right: 12px;">
            <div>
              <div style="font-weight: 500;">Sage</div>
              <div style="font-size: 13px; color: var(--text-secondary);">glm-4.6</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Topics Tab -->
      <div id="tab-content-topics" class="sidebar-tab-content">
        <div style="padding: 16px;">
          <h3 style="margin-bottom: 12px;">Topics</h3>
          <p style="color: var(--text-secondary);">è¯é¢˜åˆ—è¡¨å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p>
        </div>
      </div>

      <!-- Settings Tab -->
      <div id="tab-content-settings" class="sidebar-tab-content">
        <div style="padding: 16px;">
          <h3 style="margin-bottom: 12px;">Settings</h3>
          <div style="margin-bottom: 16px;">
            <label style="display: block; margin-bottom: 4px; font-weight: 500;">Backend URL</label>
            <input type="text"
                   value="http://localhost:6005/v1/chat/completions"
                   style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px; background: var(--bg-primary); color: var(--text-primary);">
          </div>
          <div style="margin-bottom: 16px;">
            <label style="display: block; margin-bottom: 4px; font-weight: 500;">API Key</label>
            <input type="text"
                   value="VCP_ZhipuAI_Access_Key_2025"
                   style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px; background: var(--bg-primary); color: var(--text-primary);">
          </div>
        </div>
      </div>
    </aside>

    <!-- Resize Handle -->
    <div class="resize-handle resize-handle-left"></div>

    <!-- Main Content -->
    <main class="main-content">
      <div style="display: flex; flex-direction: column; height: 100%;">
        <!-- Chat Header -->
        <div style="padding: 16px; border-bottom: 1px solid var(--border-color); background: var(--bg-secondary);">
          <h2 style="margin: 0; font-size: 19px;">Nova</h2>
          <p style="margin: 4px 0 0 0; font-size: 13px; color: var(--text-secondary);">glm-4.6 â€¢ Programming Assistant</p>
        </div>

        <!-- Messages Area -->
        <div style="flex: 1; overflow-y: auto; padding: 24px;">
          <div style="max-width: 800px; margin: 0 auto;">
            <div style="text-align: center; color: var(--text-tertiary); margin-bottom: 48px;">
              <p>å¼€å§‹ä¸Novaå¯¹è¯</p>
            </div>
          </div>
        </div>

        <!-- Input Area -->
        <div style="border-top: 1px solid var(--border-color); padding: 16px; background: var(--bg-secondary);">
          <div style="max-width: 800px; margin: 0 auto;">
            <textarea
              placeholder="è¾“å…¥æ¶ˆæ¯..."
              style="width: 100%; min-height: 60px; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; background: var(--bg-primary); color: var(--text-primary); font-family: var(--font-body); font-size: var(--font-size-base); resize: vertical;"></textarea>
            <div style="margin-top: 8px; display: flex; justify-content: space-between; align-items: center;">
              <button style="padding: 8px 16px; background: transparent; border: 1px solid var(--border-color); border-radius: 6px; cursor: pointer; color: var(--text-primary); transition: all var(--transition-fast);">
                ğŸ“ Attach
              </button>
              <button style="padding: 8px 24px; background: var(--active-bg); color: var(--active-text); border: none; border-radius: 6px; cursor: pointer; font-weight: 500; transition: all var(--transition-fast);">
                Send
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Resize Handle -->
    <div class="resize-handle resize-handle-right"></div>

    <!-- Right Sidebar -->
    <aside class="sidebar sidebar-right" style="display: none;">
      <div style="padding: 16px;">
        <h3>Notifications</h3>
      </div>
    </aside>
  </div>

  <script>
    // Theme Toggle
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme') || 'light';
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      console.log('Theme switched to:', newTheme);
    }

    // Tab Switching
    const tabButtons = document.querySelectorAll('.sidebar-tab-button');
    const tabContents = document.querySelectorAll('.sidebar-tab-content');

    console.log('Found', tabButtons.length, 'tab buttons');
    console.log('Found', tabContents.length, 'tab contents');

    tabButtons.forEach((button, index) => {
      console.log(`Button ${index}:`, button.getAttribute('data-tab'), button.textContent);

      button.addEventListener('click', () => {
        const tab = button.getAttribute('data-tab');
        console.log('Tab clicked:', tab);

        // Remove active from all
        tabButtons.forEach(btn => btn.classList.remove('active'));
        tabContents.forEach(content => content.classList.remove('active'));

        // Add active to selected
        button.classList.add('active');
        const selectedContent = document.getElementById(`tab-content-${tab}`);
        if (selectedContent) {
          selectedContent.classList.add('active');
          console.log('âœ“ Activated tab:', tab);
        } else {
          console.error('âœ— Tab content not found:', tab);
        }
      });
    });

    console.log('âœ… Tab listeners initialized');
  </script>
</body>
</html>
