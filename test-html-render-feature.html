<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æµ‹è¯•HTMLå¯é€‰æ¸²æŸ“åŠŸèƒ½</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .test-section {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 { color: #333; }
    h2 { color: #666; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; }
    .test-case {
      margin: 15px 0;
      padding: 15px;
      background: #f9f9f9;
      border-left: 4px solid #4CAF50;
    }
    .expected {
      color: #666;
      font-size: 14px;
      margin-top: 10px;
    }
    code {
      background: #e8e8e8;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <h1>ğŸ§ª HTMLå¯é€‰æ¸²æŸ“åŠŸèƒ½æµ‹è¯•è®¡åˆ’</h1>

  <div class="test-section">
    <h2>æµ‹è¯•åœºæ™¯1ï¼šAIæ¶ˆæ¯åŒ…å«HTMLä»£ç </h2>
    <div class="test-case">
      <strong>æµ‹è¯•å†…å®¹ï¼š</strong>
      <p>AIå›å¤ä¸­åŒ…å«ä¸€æ®µHTMLä»£ç ç¤ºä¾‹</p>
      <pre><code>&lt;div class="card"&gt;
  &lt;h1&gt;Hello World&lt;/h1&gt;
  &lt;p&gt;This is a test&lt;/p&gt;
&lt;/div&gt;</code></pre>
      <div class="expected">
        <strong>é¢„æœŸç»“æœï¼š</strong>
        <ul>
          <li>âœ… é»˜è®¤æ˜¾ç¤ºä¸ºè¯­æ³•é«˜äº®çš„ä»£ç å—ï¼ˆä½¿ç”¨CodeRendererï¼‰</li>
          <li>âœ… ä»£ç å—å³ä¸Šè§’æ˜¾ç¤º"Render"æŒ‰é’®ï¼ˆå¸¦renders.svgå›¾æ ‡ï¼‰</li>
          <li>âœ… ç‚¹å‡»"Render"æŒ‰é’®åï¼Œæ˜¾ç¤ºHTML iframeé¢„è§ˆ</li>
          <li>âœ… æŒ‰é’®æ–‡å­—å˜ä¸º"Code"ï¼ˆå¸¦ğŸ“å›¾æ ‡ï¼‰</li>
          <li>âœ… ç‚¹å‡»"Code"æŒ‰é’®åï¼Œè¿”å›ä»£ç è§†å›¾</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯•åœºæ™¯2ï¼šç”¨æˆ·æ¶ˆæ¯åŒ…å«HTMLä»£ç </h2>
    <div class="test-case">
      <strong>æµ‹è¯•å†…å®¹ï¼š</strong>
      <p>ç”¨æˆ·å‘é€ä¸€æ®µHTMLä»£ç </p>
      <pre><code>&lt;button onclick="alert('test')"&gt;Click Me&lt;/button&gt;</code></pre>
      <div class="expected">
        <strong>é¢„æœŸç»“æœï¼š</strong>
        <ul>
          <li>âœ… ç›´æ¥æ¸²æŸ“ä¸ºHTML iframeï¼ˆä¿æŒåŸæœ‰è¡Œä¸ºï¼‰</li>
          <li>âœ… ä¸æ˜¾ç¤º"Render"æŒ‰é’®</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯•åœºæ™¯3ï¼šMarkdownä¸­çš„HTMLä»£ç å—</h2>
    <div class="test-case">
      <strong>æµ‹è¯•å†…å®¹ï¼š</strong>
      <p>AIå›å¤ä¸­åŒ…å«Markdownæ ¼å¼çš„HTMLä»£ç å—</p>
      <pre><code>è¿™æ˜¯ä¸€ä¸ªHTMLç¤ºä¾‹ï¼š

```html
&lt;div class="example"&gt;
  &lt;p&gt;Example content&lt;/p&gt;
&lt;/div&gt;
```

è¿™æ˜¯è¯´æ˜æ–‡å­—ã€‚</code></pre>
      <div class="expected">
        <strong>é¢„æœŸç»“æœï¼š</strong>
        <ul>
          <li>âœ… ä½¿ç”¨CodeRendereræ˜¾ç¤ºä¸ºè¯­æ³•é«˜äº®çš„ä»£ç å—</li>
          <li>âœ… æ˜¾ç¤º"Render"æŒ‰é’®</li>
          <li>âœ… ä¸ç ´åMarkdownç»“æ„ï¼ˆè¯´æ˜æ–‡å­—æ­£å¸¸æ˜¾ç¤ºï¼‰</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯•åœºæ™¯4ï¼šè¾¹ç•Œæƒ…å†µ</h2>
    <div class="test-case">
      <strong>æµ‹è¯•å†…å®¹ï¼š</strong>
      <ul>
        <li>ç©ºHTMLå†…å®¹ï¼š<code>&lt;&gt;&lt;/&gt;</code></li>
        <li>æ— æ•ˆHTMLï¼š<code>&lt;div&gt;&lt;p&gt;æœªé—­åˆæ ‡ç­¾</code></li>
        <li>è¶…å¤§HTMLï¼šåŒ…å«1000+è¡Œçš„HTMLæ–‡ä»¶</li>
      </ul>
      <div class="expected">
        <strong>é¢„æœŸç»“æœï¼š</strong>
        <ul>
          <li>âœ… ç©ºHTMLï¼šæ­£å¸¸æ˜¾ç¤ºä»£ç å—ï¼Œç‚¹å‡»æ¸²æŸ“åæ˜¾ç¤ºç©ºiframe</li>
          <li>âœ… æ— æ•ˆHTMLï¼šæ­£å¸¸æ˜¾ç¤ºä»£ç å—ï¼Œæ¸²æŸ“åæµè§ˆå™¨è‡ªåŠ¨ä¿®å¤</li>
          <li>âœ… è¶…å¤§HTMLï¼šæ­£å¸¸æ˜¾ç¤ºä»£ç å—ï¼ˆå¯èƒ½æŠ˜å ï¼‰ï¼Œæ¸²æŸ“åæ­£å¸¸åŠ è½½</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>æµ‹è¯•æ­¥éª¤</h2>
    <ol>
      <li>å¯åŠ¨VCPChatåº”ç”¨</li>
      <li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è¯</li>
      <li>å‘é€æ¶ˆæ¯ï¼š"è¯·ç»™æˆ‘ä¸€ä¸ªHTMLç¤ºä¾‹"</li>
      <li>è§‚å¯ŸAIå›å¤ä¸­çš„HTMLä»£ç æ˜¯å¦æ˜¾ç¤ºä¸ºä»£ç å—</li>
      <li>æ£€æŸ¥ä»£ç å—å³ä¸Šè§’æ˜¯å¦æœ‰"Render"æŒ‰é’®</li>
      <li>ç‚¹å‡»"Render"æŒ‰é’®ï¼Œè§‚å¯Ÿæ˜¯å¦æ˜¾ç¤ºHTMLé¢„è§ˆ</li>
      <li>ç‚¹å‡»"Code"æŒ‰é’®ï¼Œè§‚å¯Ÿæ˜¯å¦è¿”å›ä»£ç è§†å›¾</li>
      <li>å‘é€ä¸€æ®µHTMLä»£ç ï¼ˆä½œä¸ºç”¨æˆ·æ¶ˆæ¯ï¼‰ï¼Œè§‚å¯Ÿæ˜¯å¦ç›´æ¥æ¸²æŸ“ä¸ºiframe</li>
    </ol>
  </div>

  <div class="test-section">
    <h2>éªŒæ”¶æ ‡å‡†</h2>
    <ul>
      <li>âœ… AIæ¶ˆæ¯ä¸­çš„HTMLä»£ç é»˜è®¤æ˜¾ç¤ºä¸ºè¯­æ³•é«˜äº®çš„ä»£ç å—</li>
      <li>âœ… ä»£ç å—å³ä¸Šè§’æ˜¾ç¤º"Render"æŒ‰é’®ï¼ˆå¸¦renders.svgå›¾æ ‡ï¼‰</li>
      <li>âœ… ç‚¹å‡»"Render"æŒ‰é’®åï¼Œæ˜¾ç¤ºHTML iframeé¢„è§ˆ</li>
      <li>âœ… æŒ‰é’®æ–‡å­—å˜ä¸º"Code"ï¼Œæ”¯æŒè¿”å›ä»£ç è§†å›¾</li>
      <li>âœ… ç”¨æˆ·æ¶ˆæ¯ä¸­çš„HTMLä»£ç ç›´æ¥æ¸²æŸ“ä¸ºiframeï¼ˆä¿æŒåŸæœ‰è¡Œä¸ºï¼‰</li>
      <li>âœ… Markdownç»“æ„ä¸è¢«ç ´å</li>
      <li>âœ… æ— TypeScriptç±»å‹é”™è¯¯</li>
      <li>âœ… æ— æ§åˆ¶å°é”™è¯¯</li>
    </ul>
  </div>

  <div class="test-section">
    <h2>å·²å®Œæˆçš„ä¿®æ”¹</h2>
    <ul>
      <li>âœ… <code>contentProcessor.ts</code> - æ·»åŠ senderå‚æ•°ï¼Œä¿®æ”¹HTMLæ£€æµ‹é€»è¾‘</li>
      <li>âœ… <code>messageRenderer.ts</code> - ä¼ é€’senderå‚æ•°åˆ°detectContentType</li>
      <li>âœ… <code>codeRenderer.ts</code> - æ·»åŠ æ¸²æŸ“æŒ‰é’®å’Œäº‹ä»¶å¤„ç†</li>
      <li>âœ… <code>syntax-highlighter.css</code> - æ·»åŠ æ¸²æŸ“æŒ‰é’®å’Œé¢„è§ˆå®¹å™¨æ ·å¼</li>
      <li>âœ… TypeScriptç±»å‹æ£€æŸ¥é€šè¿‡ï¼ˆæ— é”™è¯¯ï¼‰</li>
    </ul>
  </div>
</body>
</html>

